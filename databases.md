# IT: базы данных


Базы данных (БД) чаще всего входят в состав более сложного программного комплекса, но иногда имеют ценность сами по себе (например, некоторые из них пригодятся для Гаагского трибунала). Как часть продукта они чаще всего живут на бекенде, но и в веб-фронтенде, и в десктопных и в мобильных приложениях могут появиться тоже, поэтому минимальное знакомство с базами данных не повредит вообще никому. Сейчас существует большой мир реляционных баз данных (или SQL баз), где всё хранится в табличках, и тоже достаточно весомый мир нереляционных (или NoSQL) баз данных, где информация обычно хранится в виде деревьев с метками, чаще всего это JSON. Несмотря на удобства NoSQL баз для некоторых целей, по многим причинам имеет смысл начинать знакомство с SQL.

Плюсы: умеешь в БД -- больше стоишь. Минусов нет. Серьезно, это беспроигрышная инвестиция. Родятся и умрут десятки фреймворков для фронтенда, а SQL только простудится на их поминках, но будет жить еще долго.

![image](https://user-images.githubusercontent.com/2028330/196011468-509f4551-471f-4ff3-87ad-a62bf4543fdc.png)


## Что там вообще бывает

Программистов, общающихся с БД, можно поделить на тех, для кого это общение является основной работой, и тех, для кого БД просто сервис хранения/поиска данных для приложения, которое они пишут. Начнем со вторых, и будем называть их прикладными программистами.

1. Прикладному программисту нужно чтобы БД могла что-нибудь записать и в нужный момент по каким-то критериям найти. Чтобы это делать, ему нужно знать, как составлять запрос к БД (обычно запросы пишутся на специальном языке SQL) и как из приложения этот запрос отправить (для этого в каждой платформе есть специальный программны интерфейс или фреймворки). Запросы от прикладного программиста обычно несложные, и в принципе нескольких дней плотного изучения основ SQL и программного интерфейса для общения с БД должно быть достаточно для прикладных целей. Базы данных нужны всем, и такой скилл сильно повышает стоимость программиста, пренебрегать им не следует. Да и в конце-концов писать SQL запросы -- это просто интересно. 
2. Программист, пишущий бизнес-логику изменения и взаимодействия данных в БД. Раньше, в стародавние времена, его основным инструментом работы мог быть именно SQL, но сейчас он, скорее всего, использует язык бекенда -- Java или Kotlin -- перемешивая его с SQL. Такой программист -- важная птица, ему нужно понимать что там происходит с данными, быть достаточно квалифицированным, хотя бы чтоб не угробить их все. Помимо довольно сложного SQL ему нужно вникать и в бизнес-процессы, уметь строить абстракции, в общем это обычно довольно квалифицированный  программист.
3. Проектировщик схемы базы данных, то есть чувак, определяющий, какие там бывают таблицы, какие в них столбцы, какие связи между таблицами -- это вообще почти бог-олимпиец. Схема БД -- это модель реального мира, и от её качества будет зависеть качество работы всего приложения. Ошибки  схеме и изменения схемы могут стоить очень больших денег, так что работа это ответственная. Проектировщики код, скорее всего, не пишут, а вместо этого до посинения общаются с людьми, порой глупыми и непри... так, я кажется повторяюсь. Для крупных проектов, например для информационной системы банка или большого предприятия  проектировщики и программисты -- редкий и дорогой товар. Но в мелких проектах таковым может стать и простой амиго, красящий на досуге кнопки.
4. Администратор базы данных -- бородатый толстый дядя, заведующий доступом к БД и поддержкой её операционной деятельности. От него во многом зависит то, как себя чувствует база данных в эксплуатации, и ему нужно порядочно знать и про тонкости работы конкретной БД конкретного производителя, и особенности операционной системы  железа, на котором работает БД. Работа сложная и ответственная, случись что с серваком -- и придут суровые братки с паяльником. Впрочем, это удел больших проектов и предприятий, а у мелких и средних проектов в последнее время появилась отличная опция "база данных как сервис", и тяготы администрирования во многом (но не во всем!)  ложатся на плечи инженеров гугла, амазона и других провайдеров таких сервисов.

  ![image](https://user-images.githubusercontent.com/2028330/196011558-3ebd4dee-21ab-433e-ba5d-ffaa69b5fe45.png)

5. Отдельная ветка -- это аналитика данных и составление сложных отчетов. Там есть место для умопомрачительных SQL запросов и для программирования в чем-то странном, с чем я не очень знаком. Типа ты тако пишешь запрос, который по нескольким десяткам признаков что-нибудь группирует, поворачивает, считает нарастающие суммы, и потом поступает в каком-то красивом виде боссу продаж на стол. А тот такой, даже не взглянув: "херня всё это, давайте запускать MLM продажи".

## Где этому учатся

Основам SQL и общения с базой данных из приложения можно довольно быстро научиться, это не сложнее, чем правильно красить кнопки и делать адаптивную верстку на 42 разрешения экрана и 10 браузеров. Есть много курсов разной степени платности, вот [хотя бы на Степике](https://stepik.org/catalog/search?q=%D0%B1%D0%B0%D0%B7%D1%8B%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85) или у [Postgres Professional](https://postgrespro.ru/education). Есть неплохие и совершенно бесплатные [книги на русском языке от издательства Postgres Professional](https://postgrespro.ru/education/books/) Postgres Profesional -- это московская компания, активно внедряющая СУБД PostgreSQL на российском рынке и участвующая в разработке ядра постгреса.

Есть отличный тренажер https://pgexercises.com/ который я рекомендую и своим студентам.

Можно прям там и начать писать запросы. Заходишь на https://pgexercises.com/questions/basic/selectall.html и в поле Your answer пишешь
```sql
SELECT * FROM cd.facilities
```

и нажимаешь кнопку Run Query.
